/**
 * Print-Optimized Styles for Professional Reports
 * Ensures clean PDF/print output with proper page breaks and formatting
 * Optimized for grayscale printing with good contrast ratios
 */

/* Print-specific styles */
@media print {
  /* Reset for clean print output */
  * {
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
    color-adjust: exact !important;
  }

  /* Page setup */
  @page {
    size: letter;
    margin: 0.75in 0.75in 1in 0.75in;
    @bottom-right {
      content: "Page " counter(page) " of " counter(pages);
      font-size: 9pt;
      color: #6b7280;
    }
  }

  /* Page counters */
  body {
    counter-reset: page;
  }

  body {
    background: white !important;
    color: #1a1a1a !important;
    font-size: 11pt;
    line-height: 1.5;
  }

  /* Hide navigation and UI elements */
  nav,
  header,
  .no-print,
  button:not(.print-button) {
    display: none !important;
  }

  /* Show only report content */
  .report-content {
    display: block !important;
  }

  /* Page breaks */
  .print\\:break-before-page,
  .page-break-before {
    page-break-before: always;
  }

  .print\\:break-inside-avoid,
  .report-section,
  .avoid-break {
    page-break-inside: avoid;
  }

  .print\\:break-after-page,
  .page-break-after {
    page-break-after: always;
  }

  /* Salem report specific sections */
  .salem-section {
    page-break-inside: avoid;
    margin-bottom: 1.5rem !important;
  }

  .salem-section h2 {
    page-break-after: avoid;
    border-bottom: 2px solid #0F3B63;
    padding-bottom: 0.5rem;
    margin-bottom: 1rem;
  }

  /* Keep headers with content */
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
    page-break-inside: avoid;
  }

  h1 + *, h2 + *, h3 + * {
    page-break-before: avoid;
  }

  /* Table handling - prevent breaks in headers */
  table {
    page-break-inside: avoid;
    width: 100%;
    border-collapse: collapse;
  }

  thead {
    display: table-header-group;
  }

  tbody tr {
    page-break-inside: avoid;
  }

  /* Ensure chart visibility in print */
  .recharts-wrapper,
  .recharts-surface {
    max-width: 100% !important;
    height: auto !important;
  }

  /* Card backgrounds - subtle for print */
  [class*="bg-background"] {
    background-color: white !important;
    border: 1px solid #d1d5db !important;
  }

  /* Text contrast for grayscale */
  .text-text-primary,
  h1, h2, h3, h4, h5, h6 {
    color: #1a1a1a !important;
  }

  .text-text-secondary {
    color: #374151 !important;
  }

  .text-text-tertiary {
    color: #6b7280 !important;
  }

  /* Status colors optimized for grayscale */
  .text-status-success-base,
  [style*="color: rgb(76, 175, 80)"],
  [style*="color: #4CAF50"] {
    color: #1a7a1f !important; /* Darker green for print */
  }

  .text-status-warning-base,
  [style*="color: rgb(255, 193, 7)"],
  [style*="color: #FFC107"] {
    color: #b5750a !important; /* Darker amber for print */
  }

  .text-status-error-base,
  [style*="color: rgb(217, 83, 79)"],
  [style*="color: #D9534F"] {
    color: #a71d2a !important; /* Darker red for print */
  }

  /* Salem brand colors for print */
  [style*="color: rgb(0, 51, 93)"],
  [style*="color: #00335D"] {
    color: #00335D !important; /* Navy - good in grayscale */
  }

  [style*="color: rgb(75, 143, 41)"],
  [style*="color: #4B8F29"] {
    color: #2d5419 !important; /* Darker green for print */
  }

  /* Border colors */
  .border-background-border {
    border-color: #d1d5db !important;
  }

  /* Remove shadows for cleaner print */
  .shadow-lg,
  .shadow-md,
  .shadow {
    box-shadow: none !important;
  }

  /* Typography sizing for print */
  .text-h1 {
    font-size: 24pt !important;
    font-weight: bold !important;
  }

  .text-h2 {
    font-size: 20pt !important;
    font-weight: 600 !important;
  }

  .text-h3 {
    font-size: 16pt !important;
    font-weight: 600 !important;
  }

  .text-h4 {
    font-size: 14pt !important;
    font-weight: 600 !important;
  }

  .text-body {
    font-size: 11pt !important;
  }

  .text-small {
    font-size: 9pt !important;
  }

  /* Spacing adjustments for print */
  .space-y-xl > * + * {
    margin-top: 1.5rem !important;
  }

  .pb-24 {
    padding-bottom: 0 !important;
  }

  /* Links */
  a {
    color: #00335D !important;
    text-decoration: none !important;
  }

  /* Ensure SVG icons print */
  svg {
    print-color-adjust: exact;
    -webkit-print-color-adjust: exact;
  }

  /* Chart legend positioning */
  .recharts-legend-wrapper {
    position: relative !important;
    margin-top: 1rem !important;
  }

  /* Responsive container fixes for print */
  .recharts-responsive-container {
    min-height: 300px !important;
  }

  /* Badge styling for print */
  .badge {
    border: 1px solid currentColor !important;
    background-color: transparent !important;
  }

  /* Grid layouts */
  .grid {
    gap: 0.75rem !important;
  }

  /* Metrics table */
  table td,
  table th {
    padding: 0.5rem 0.75rem !important;
    font-size: 10pt !important;
  }

  /* Avoid breaking metric cards */
  .grid > div {
    page-break-inside: avoid;
  }

  /* Chart containers */
  .h-96 {
    height: 5in !important;
  }

  .h-80 {
    height: 4in !important;
  }

  /* Salem report header */
  .report-header {
    margin-bottom: 1.5rem;
    padding-bottom: 1rem;
    border-bottom: 3px solid #0F3B63;
    page-break-after: avoid;
  }

  /* Salem footer with page info */
  .salem-footer {
    margin-top: 2rem;
    padding-top: 1rem;
    border-top: 2px solid #C4A76A;
    font-size: 8pt;
    color: #6b7280;
    page-break-before: avoid;
  }

  /* Summary cards - optimize for print */
  .summary-card,
  .metric-card {
    border: 1px solid #d1d5db;
    padding: 0.75rem;
    margin-bottom: 0.5rem;
    page-break-inside: avoid;
    background-color: #f9fafb !important;
  }

  /* Chart sizing for better print layout */
  .recharts-wrapper {
    max-height: 4.5in !important;
    page-break-inside: avoid;
  }

  /* Stress test and comparison sections */
  .stress-test-result,
  .comparison-card {
    border: 1px solid #d1d5db;
    padding: 0.75rem;
    margin: 0.5rem 0;
    page-break-inside: avoid;
  }

  /* Narrative sections with left border */
  .narrative-section {
    border-left: 3px solid #C4A76A;
    padding-left: 1rem;
    margin: 1rem 0;
    page-break-inside: avoid;
  }

  /* Assumptions and appendix - allow breaks */
  .assumptions-section,
  .appendix-section {
    page-break-inside: auto;
  }

  .assumptions-section > div,
  .appendix-section > div {
    page-break-inside: avoid;
  }

  /* Disclaimer text */
  .disclaimer {
    font-size: 8pt;
    line-height: 1.3;
    color: #6b7280;
    padding: 0.75rem;
    border: 1px solid #d1d5db;
    margin-top: 1rem;
    page-break-before: avoid;
  }
}

/* Screen-only helper for report generation */
@media screen {
  .report-container {
    max-width: 8.5in;
    margin: 0 auto;
    background: white;
    min-height: 100vh;
  }

  .report-page {
    background: white;
    padding: 1in;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
  }
}

